# üì° GPS Tracker System (IoT + Next.js)

‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå GPS Tracking System ‡πÅ‡∏ö‡∏ö Real-time ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÇ‡∏à‡∏£‡∏Å‡∏£‡∏£‡∏° ‡∏ú‡πà‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô

## ‚ú® ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å (Features)
1. **Real-time Tracking**: ‡∏î‡∏π‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏£‡∏ñ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏ú‡πà‡∏≤‡∏ô Google Maps
2. **Status Monitoring**: ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏ñ (‡∏õ‡∏Å‡∏ï‡∏¥, ‡∏ñ‡∏π‡∏Å‡πÇ‡∏à‡∏£‡∏Å‡∏£‡∏£‡∏°, ‡∏≠‡∏∏‡∏ö‡∏±‡∏ï‡∏¥‡πÄ‡∏´‡∏ï‡∏∏) ‡∏™‡∏µ‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô
3. **Alert System**: 
   - üîä **‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô:** ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏£‡∏ñ‡∏ñ‡∏π‡∏Å‡πÇ‡∏à‡∏£‡∏Å‡∏£‡∏£‡∏° ‡∏à‡∏∞‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÑ‡∏ã‡πÄ‡∏£‡∏ô‡∏î‡∏±‡∏á‡∏ß‡∏ô‡∏•‡∏π‡∏õ
   - üî¥ **Popup ‡πÅ‡∏î‡∏á:** ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡πÄ‡∏´‡∏ï‡∏∏
   - üì≤ **Push Notification:** ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ú‡πà‡∏≤‡∏ô Browser ‡πÅ‡∏°‡πâ‡∏û‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
4. **History Log**: ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ (‡∏ï‡∏±‡∏î Log ‡∏ã‡πâ‡∏≥‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
5. **Admin Panel**: ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏´‡∏±‡∏™ (Credential) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå

---

## üõ†Ô∏è ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (How to Use)

### 1. ‡∏ù‡∏±‡πà‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (User)
- **‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ‡πÉ‡∏´‡∏°‡πà:**
  - ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° `+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏ñ`
  - ‡∏Å‡∏£‡∏≠‡∏Å **‡∏£‡∏´‡∏±‡∏™ 6 ‡∏´‡∏•‡∏±‡∏Å** (‡∏Ç‡∏≠‡∏à‡∏≤‡∏Å Admin)
  - ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏ñ‡πÅ‡∏•‡∏∞‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô
- **‡∏Å‡∏≤‡∏£‡∏î‡∏π‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:**
  - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏ñ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≤‡∏Å‡πÅ‡∏ñ‡∏ö‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô
  - ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏õ‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏£‡∏ñ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- **‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô:**
  - ‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÑ‡∏ã‡πÄ‡∏£‡∏ô‡πÅ‡∏•‡∏∞ Popup ‡πÅ‡∏î‡∏á‡∏Ç‡∏∂‡πâ‡∏ô ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡∏£‡∏ñ‡∏ñ‡∏π‡∏Å‡πÇ‡∏à‡∏£‡∏Å‡∏£‡∏£‡∏°
  - ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° **"‡∏£‡∏±‡∏ö‡∏ó‡∏£‡∏≤‡∏ö"** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏•‡∏∞ Popup
  - ‡∏´‡∏≤‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏ñ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô "‡∏õ‡∏Å‡∏ï‡∏¥" ‡πÄ‡∏Å‡∏¥‡∏ô 15 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏à‡∏∞‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏≠‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

### 2. ‡∏ù‡∏±‡πà‡∏á‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö (Admin)
- ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ú‡πà‡∏≤‡∏ô `/admin`
- **‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏´‡∏±‡∏™ (Credential):**
  - ‡∏î‡∏π‡∏ó‡∏µ‡πà‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå
  - ‡∏´‡∏≤‡∏Å‡∏ä‡πà‡∏≠‡∏á Credential ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á **"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏´‡∏±‡∏™"** -> ‡πÉ‡∏´‡πâ‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏•‡∏Ç 6 ‡∏´‡∏•‡∏±‡∏Å
  - ‡∏™‡πà‡∏á‡πÄ‡∏•‡∏Ç‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ User ‡∏ô‡∏≥‡πÑ‡∏õ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô
  - ‡∏´‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏•‡∏Ç‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á/‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏£‡∏´‡∏±‡∏™‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß

---

## üö¶ ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (Conditions)

‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡πà‡∏≠‡∏á GPS (ESP32):

| Status | Code | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢ | ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á App |
| :--- | :--- | :--- | :--- |
| **NORMAL** | `3` | ‡∏õ‡∏Å‡∏ï‡∏¥ | ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß, ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á |
| **STOLEN** | `1` | ‡∏ñ‡∏π‡∏Å‡πÇ‡∏à‡∏£‡∏Å‡∏£‡∏£‡∏° | **‡∏™‡∏µ‡πÅ‡∏î‡∏á**, üîä ‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á, üî¥ ‡∏°‡∏µ Popup, üì≤ Push Notify |
| **CRASH** | `2` | ‡∏≠‡∏∏‡∏ö‡∏±‡∏ï‡∏¥‡πÄ‡∏´‡∏ï‡∏∏ | **‡∏™‡∏µ‡∏™‡πâ‡∏°**, üîä ‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á, üî¥ ‡∏°‡∏µ Popup |
| **OFFLINE** | - | ‡∏Ç‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ | ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡πÄ‡∏ó‡∏≤ (Offline) |

**Logic ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô:**
- ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏à‡∏∞‡∏î‡∏±‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏õ‡πá‡∏ô **STOLEN** ‡∏´‡∏£‡∏∑‡∏≠ **CRASH**
- ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏à‡∏∞‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠:
  1. ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡∏£‡∏±‡∏ö‡∏ó‡∏£‡∏≤‡∏ö"
  2. ‡∏´‡∏£‡∏∑‡∏≠ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô **NORMAL**

---

## üíª ‡πÇ‡∏Ñ‡πâ‡∏î‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå (ESP32 Device Code)

‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏≠‡∏£‡πå‡∏î ESP32 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏Ñ‡πà‡∏≤ GPS ‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÑ‡∏õ‡∏¢‡∏±‡∏á Server

### `gps_tracker.ino`

```cpp
#include <WiFi.h>
#include <HTTPClient.h>
#include <TinyGPS++.h>

// --- Config ---
const char* ssid = "YOUR_WIFI_SSID";
const char* password = "YOUR_WIFI_PASSWORD";
const char* serverUrl = "http://YOUR_SERVER_IP:3000/api/track";
String deviceId = "0B:72:A0:58:53:19"; // MAC Address

// --- Valid Pins (ESP32) ---
#define RXPin 16
#define TXPin 17
#define STATUS_PIN 4 // Switch Input (High/Low)

TinyGPSPlus gps;
HardwareSerial neogps(1);

void setup() {
  Serial.begin(115200);
  neogps.begin(9600, SERIAL_8N1, RXPin, TXPin);
  pinMode(STATUS_PIN, INPUT_PULLUP);

  // Connect WiFi
  WiFi.begin(ssid, password);
  while (WiFi.status() != WL_CONNECTED) {
    delay(1000);
    Serial.println("Connecting WiFi...");
  }
}

void loop() {
  // Read GPS
  while (neogps.available()) {
    gps.encode(neogps.read());
  }

  if (gps.location.isUpdated()) {
    // Read Status Switch (0 = Alert, 1 = Normal)
    int swState = digitalRead(STATUS_PIN);
    String status = (swState == LOW) ? "1" : "3"; // 1=Stolen, 3=Normal

    if(WiFi.status() == WL_CONNECTED){
      HTTPClient http;
      http.begin(serverUrl);
      http.addHeader("Content-Type", "text/plain");
      
      // Format: MAC,STATUS LAT, LNG, TIMESTAMP (Optional)
      String payload = deviceId + "," + status + " " + 
                       String(gps.location.lat(), 6) + ", " + 
                       String(gps.location.lng(), 6);
      
      int httpResponseCode = http.POST(payload);
      Serial.print("Sent: "); Serial.println(payload);
      http.end();
    }
  }
  delay(1000); // Send every 1 second
}
```

---

## üöÄ ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô Server

```bash
# 1. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Package
npm install

# 2. ‡∏£‡∏±‡∏ô Server
npm run dev
# ‡∏´‡∏£‡∏∑‡∏≠
node server.js
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:**
- ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ô Server ‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ Socket ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- Database ‡πÉ‡∏ä‡πâ `tracker.db` (SQLite) ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏á‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°
